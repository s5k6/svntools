
Automagic generation of the subversion access database
======================================================

Author: Stefan Klinger <mail@stefan-klinger.de>
Date: Tue 2013-Jan-15 20:09:34 CET



When cleaning up the mess in the `access` file, I made a mistake: The
new file referred to an undefined group.  As a result, the `access` file
was not parsed anymore *at all*, no repository was accessible.

The messy structure of the `access` file partly originates from the
distance of group definitions from access right definitions.  Also,
nobody feels responsible to clean up an unused repository.

To this end, `access` is autogenerated from a bunch of independent files
from now on.  To add entries, proceed as follows:

  * create a new file below `access.d` with the same name as the
    repository for which you want to manage access rights.  This file
    must belong to the same group as the `access.d` directory, and have
    mode 660.

  * In this new file, you may define groups under a `[groups]` header,
    just as you are used to do from the `access` file.  It is strongly
    encouraged to prefix group names with the repos name, to avoid name
    clashes with future repositories!

  * Add access rights for individual paths, using the `[repos:/path]`
    notation as usual.

  * then run `./mkaccess` to compile the `access` file.

Consistency checks make the process fail if you refer to undefined
groups, or do not provide sufficient permissions.
